

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>beadledom-client &mdash; Beadledom 4.1.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/github_fork.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Beadledom 4.1.1 documentation" href="../index.html"/>
        <link rel="up" title="User Manual" href="index.html"/>
        <link rel="next" title="beadledom-common" href="common.html"/>
        <link rel="prev" title="bootstrap" href="bootstrap.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Beadledom
          

          
          </a>

          
            
            
              <div class="version">
                4.1.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../about/introduction.html">Beadledom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/error_handling.html">Error Handling</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="avro.html">Beadledom Avro</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootstrap.html">Beadledom Bootstrapping</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Beadledom Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#download">Download</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generic-response">Generic Response</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-parameters">Using Parameters</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#headers">Headers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#query-parameters">Query Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#path-parameters">Path Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#request-body">Request Body</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#jax-rs-features-and-providers">JAX-RS Features and Providers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common.html">Beadledom Common</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Beadledom Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">Beadledom Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="correlation.html">Beadledom Correlation</a></li>
<li class="toctree-l2"><a class="reference internal" href="guice.html">Beadledom Guice</a></li>
<li class="toctree-l2"><a class="reference internal" href="guice_dynamic_bindings.html">Beadledom Guice Dynamic Bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="health.html">Beadledom Health</a></li>
<li class="toctree-l2"><a class="reference internal" href="jackson.html">Beadledom Jackson</a></li>
<li class="toctree-l2"><a class="reference internal" href="jaxrs.html">Beadledom JAX-RS</a></li>
<li class="toctree-l2"><a class="reference internal" href="jaxrs_generic_response.html">Beadledom JAX-RS - Generic Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="jooq.html">Beadledom jOOQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="newrelic_jaxrs.html">Beadledom New Relic JAX-RS</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Beadledom Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="resteasy.html">Beadledom Resteasy</a></li>
<li class="toctree-l2"><a class="reference internal" href="resteasy_generic_response.html">Beadledom Resteasy - Generic Response</a></li>
<li class="toctree-l2"><a class="reference internal" href="swagger2.html">Beadledom Swagger 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="lifecycle.html">Beadledom Lifecycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="lifecycle_governator.html">Beadledom Lifecycle - Governator</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html">Beadledom Testing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/troubleshooting.html">Troubleshooting</a></li>
</ul>

            
          
  <li>
    <a href="http://cerner.github.io/beadledom/4.1.1/apidocs/index.html">Java Docs </a>
  </li>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Beadledom</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">User Manual</a> &raquo;</li>
        
      <li>beadledom-client</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="beadledom-client">
<span id="id1"></span><h1>beadledom-client<a class="headerlink" href="#beadledom-client" title="Permalink to this headline">¶</a></h1>
<p>Deprecated since 3.6, use <a class="reference external" href="https://github.com/square/retrofit">Retrofit</a> instead.</p>
<p>Beadledom Client is a JAX-RS 2.0 based HTTP Client for Java. It provides a wrapper around the JAX-RS 2.0 client API along with some additional functionality including a <a class="reference external" href="https://github.com/cerner/beadledom/blob/main/client/beadledom-client/src/main/java/com/cerner/beadledom/client/CorrelationIdFilter.java">CorrelationIdFilter</a> that will set a correlation id header on all client calls.</p>
<p>Beadledom Client is designed to provide a common way of writing Java HTTP clients. It internally wraps another implementation of HTTP Client to execute the HTTP requests. Similarly to, and to stay consistent with, <a class="reference external" href="https://github.com/cerner/beadledom">Beadledom</a> the JAX-RS 2.0 client API provides a default implementation by wrapping the Resteasy Client for creating HTTP clients.</p>
<p>Understanding the <a class="reference external" href="https://docs.jboss.org/resteasy/docs/3.0.12.Final/userguide/html/RESTEasy_Client_Framework.html">Resteasy client API</a> is important for understanding the Beadledom Client API. Beadledom Client builds upon the <a class="reference external" href="https://docs.jboss.org/resteasy/docs/3.0.12.Final/userguide/html/RESTEasy_Client_Framework.html">Resteasy</a> / <a class="reference external" href="https://jax-rs-spec.java.net/nonav/2.0-rev-a/apidocs/javax/ws/rs/client/package-summary.html">JAX-RS</a> APIs, providing some opinionated defaults, but otherwise being configurable in the same way as the Resteasy API. The Beadledom Resteasy Client configures a default <code class="docutils literal"><span class="pre">HttpEngine</span></code> using Apache <code class="docutils literal"><span class="pre">HttpClient</span></code>, with connection pool, for handling the requests made through Resteasy. The underlying HTTP mechanism can be overridden by setting a custom <code class="docutils literal"><span class="pre">HttpEngine</span></code>.</p>
<p>However, it is totally possible to plug in another HTTP Client implementation (ex: JerseyClient) for Beadledom Client to wrap. See how to add a different <a class="reference external" href="subdocs/additional_implementation">client internal implementation</a></p>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>Download using Maven:</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.cerner.beadledom<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>beadledom-client<span class="nt">&lt;/artifactId&gt;</span>
  <span class="nt">&lt;version&gt;</span>[insert latest version]<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Beadledom Client can be used with JAX-RS resource annotated interfaces for creating easy to use clients.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">GithubResource</span> <span class="o">{</span>
  <span class="nd">@GET</span>
  <span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orgs/{org}/repos&quot;</span><span class="o">)</span>
  <span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="nf">getRepos</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;org&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">org</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>These resources should be wrapped in a containing class, so the injected interfaces won’t get picked up by jax-rs/Beadledom if being used within another service.
The Beadledom Client Proxy can generate an implementation of the GithubResource interface.</p>
<p>The client can then be used to make a call to the service.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">BeadledomClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">BeadledomResteasyClientBuilder</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">().</span><span class="na">build</span><span class="o">();</span>
<span class="n">GithubClient</span> <span class="n">githubClient</span> <span class="o">=</span> <span class="n">GithubClient</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="n">repos</span> <span class="o">=</span> <span class="n">githubClient</span><span class="o">.</span><span class="na">githubResource</span><span class="o">.</span><span class="na">getRepos</span><span class="o">(</span><span class="s">&quot;cerner&quot;</span><span class="o">);</span>
</pre></div>
</div>
<p>All of the same JAX-RS annotations that are used for service resources can be used for the client interface. The interface can even be re-used for both the client and service, with the service implementing the interface, but keeping the JAX-RS annotations on the interface. The annotations that can be used include, but are not limited to the following. Read the JAX-RS documentation for a full set of features.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&#64;Consumes</span></code> and <code class="docutils literal"><span class="pre">&#64;Produces</span></code> for specifying media types</li>
<li><code class="docutils literal"><span class="pre">&#64;Path</span></code> for specifying the resource path</li>
<li><code class="docutils literal"><span class="pre">&#64;GET</span></code>, <code class="docutils literal"><span class="pre">&#64;PUT</span></code>, <code class="docutils literal"><span class="pre">&#64;POST</span></code>, <code class="docutils literal"><span class="pre">&#64;DELETE</span></code>, etc. for HTTP Method</li>
<li><code class="docutils literal"><span class="pre">&#64;PathParam</span></code> for path parameters</li>
<li><code class="docutils literal"><span class="pre">&#64;QueryParam</span></code> for query parameters</li>
<li><code class="docutils literal"><span class="pre">&#64;HeaderParam</span></code> for header parameters</li>
</ul>
<p>More information about using the Beadledom Client in conjunction with Guice can be found here:
* <a class="reference external" href="subdocs/guice">Usage with Guice</a></p>
</div>
<div class="section" id="generic-response">
<h2>Generic Response<a class="headerlink" href="#generic-response" title="Permalink to this headline">¶</a></h2>
<p>The Resteasy implementation of the auto-generated client proxy provides support for <code class="docutils literal"><span class="pre">GenericResponse</span></code>. This class provides a more typesafe mechanism for consuming a JAX-RS response.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">RepoResource</span> <span class="o">{</span>
    <span class="nd">@GET</span>
    <span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/repos/{user}/{repo}&quot;</span><span class="o">)</span>
    <span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
    <span class="n">GenericResponse</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="nf">getRepos</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;user&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">user</span><span class="o">,</span> <span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;repo&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">repo</span><span class="o">));</span>
  <span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">GenericResponse</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">repoResource</span><span class="o">.</span><span class="na">getRepos</span><span class="o">(</span><span class="s">&quot;cerner&quot;</span><span class="o">,</span> <span class="s">&quot;beadledom&quot;</span><span class="o">);</span>
<span class="k">if</span> <span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">isSuccessful</span><span class="o">()</span> <span class="o">{</span>
  <span class="n">Repo</span> <span class="n">repo</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getBody</span><span class="o">();</span>
  <span class="c1">// Do something with the repo</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="using-parameters">
<h2>Using Parameters<a class="headerlink" href="#using-parameters" title="Permalink to this headline">¶</a></h2>
<p>Method parameters can be annotated with different parameter types and they will be sent as part of the request as the specified parameter type.</p>
<div class="section" id="headers">
<h3>Headers<a class="headerlink" href="#headers" title="Permalink to this headline">¶</a></h3>
<p>Header parameters will be added as request headers.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@GET</span>
<span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orgs/{org}/repos&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="nf">getRepos</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;org&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">org</span><span class="o">,</span> <span class="nd">@HeaderParam</span><span class="o">(</span><span class="s">&quot;Time-Zone&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">timezone</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="query-parameters">
<h3>Query Parameters<a class="headerlink" href="#query-parameters" title="Permalink to this headline">¶</a></h3>
<p>Query parameters will be appended to the request URI.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@GET</span>
<span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orgs/{org}/repos&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="nf">getRepos</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;org&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">org</span><span class="o">,</span> <span class="nd">@QueryParam</span><span class="o">(</span><span class="s">&quot;page&quot;</span><span class="o">)</span> <span class="kt">long</span> <span class="n">page</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="path-parameters">
<h3>Path Parameters<a class="headerlink" href="#path-parameters" title="Permalink to this headline">¶</a></h3>
<p>The path parameter will fill in the matching placeholder in the <code class="docutils literal"><span class="pre">&#64;Path</span></code> annotation on the method.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@GET</span>
<span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orgs/{org}/repos&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Repo</span><span class="o">&gt;</span> <span class="nf">getRepos</span><span class="o">(</span><span class="nd">@PathParam</span><span class="o">(</span><span class="s">&quot;org&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">org</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="request-body">
<h3>Request Body<a class="headerlink" href="#request-body" title="Permalink to this headline">¶</a></h3>
<p>A Request body for POST/PUT requests is specified as an unannotated method parameter.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="nd">@POST</span>
<span class="nd">@Path</span><span class="o">(</span><span class="s">&quot;/orgs&quot;</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="nd">@Consumes</span><span class="o">(</span><span class="s">&quot;application/json&quot;</span><span class="o">)</span>
<span class="n">Organization</span> <span class="nf">createOrg</span><span class="o">(</span><span class="n">Organization</span> <span class="n">org</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="jax-rs-features-and-providers">
<h2>JAX-RS Features and Providers<a class="headerlink" href="#jax-rs-features-and-providers" title="Permalink to this headline">¶</a></h2>
<p>Existing and custom JAX-RS <a class="reference external" href="https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/core/Feature.html">Features</a>, <a class="reference external" href="https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/ext/Provider.html">Providers</a>, including filters (<a class="reference external" href="https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/client/ClientRequestFilter.html">ClientRequestFilter</a> or <a class="reference external" href="https://jax-rs-spec.java.net/nonav/2.0/apidocs/javax/ws/rs/client/ClientResponseFilter.html">ClientResponseFilter</a>) wrapped with a <code class="docutils literal"><span class="pre">Feature</span></code> can be registered and used with the client.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">BeadledomClient</span> <span class="n">client</span> <span class="o">=</span> <span class="n">BeadledomResteasyClientBuilder</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
    <span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="n">MyCustomProvider</span><span class="o">())</span>
    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div>
</div>
<p>Authentication filters or serializers/deserializers like Jackson JSON can be registered and customized to meet the requirements of calling any service.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common.html" class="btn btn-neutral float-right" title="beadledom-common" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bootstrap.html" class="btn btn-neutral" title="bootstrap" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Cerner Corporation.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'4.1.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/github_fork.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>