language: java
jdk:
- oraclejdk8
cache:
  directories:
  - "$HOME/.m2"
before_install:
- export PATH=$PATH:${TRAVIS_BUILD_DIR}/target
install:
- sudo apt-get install -y gnupg2
script:
- mvn install -Dmaven.javadoc.skip=true -B -V -e
after_success:
- if [[ "$(echo 'VERSION=${project.version}' | mvn org.apache.maven.plugins:maven-help-plugin:2.1.1:evaluate | grep '^VERSION')" == *-SNAPSHOT ]]; then export IS_SNAPSHOT=true; fi
deploy:
- provider: script
  script: ".travis/publish.sh"
  skip_cleanup: true
  on:
    repo: cerner/beadledom
    branch: master
    condition: "${IS_SNAPSHOT} = true"
- provider: script
  script: ".travis/publish.sh"
  skip_cleanup: true
  on:
    repo: cerner/beadledom
    tags: true
branches:
  only:
  - master
  - beta
  - "/([0-9]*\\.[0-9]*\\.*[0-9]*-*)\\w+$/"
env:
  global:
  - GPG_DIR=${TRAVIS_BUILD_DIR}/.travis
  - secure: UqWLkXJsmR41AKSyUyXCr7TtJ94VITO+ntmeHpjZMI64yjTleQA/EUAh3MnKGpGwTIv3MbSHqLYo+xLti5e9p+1FREc9JKzGx0g1YUim/12L3WyxyUz0EcahiTLhoEzEZz/b+R3zW+++tUcPPIoSFbltcV3G5DTZTjgX9bpARFI11oXwTMUX9wujjhzkHGAOXA3eyShzmnRcJBciC9VmvaFPiMH2NcYhTNrX0J9SYaHd4cwqFEtCG/c9D5j6gYl7AxsCXYsg0AxX0o93S5qacoobTjqulSTv+UonBZP9kVYsx397crrp/RbA2bNG040jCUMySAlPADYDIRVAjclAwG2fX9IG9M9BtyuThLw/vQilrHX+J8W8En/giX2F0uADoBN5AQi/JfeRs0rgdcouBDsys03qE7VUaNwis7XvSyCeTY3i3bIrNyH+ylTS3ERVoDPscEwUiLe9AdVwZ/R0y//0hqOROpb6mM5zO4G92xScGP3V+SU34Y5oHqFCSGWeBa57BwqwP6XHMV3pAW7XE7bAzL8ZyG4luJzMr7omNnTL1KUbPK3B2gsVuZYoxs0xHL0t7DfrfzW9tbc1p/yytzBuO3YZJfj4e9ymlUQXrWmPdzwgwCzJbc+D/fCt4wTzy4acLOied7TUm+7u2GhTEv2Pp9TxokMHox3EsGm8V+U=
  - secure: KwAn0+P7KwCzlPg0QfTTgIyVUcPNH5TCaFJF1ysKZNNCEEt1WJagdwctmrwIRq8spnj74Duf2fgf9uCB9+NVa5p9gkl2x2GM1Im6FWPLqI1wFZf/xwdYCyudOlZ1QrBZ15s/jR0l76X5E8ncI3F5xF1CSiRWkALj8nX864o4NfkdF1EavogkZJxJgLp0mrXMq02PZ0ak75LkMlVms1fvPlL3vW9FKln8VYJwGnXqDSWDOLdogeUZllSWU2kdywhO33nxT4jqclTncrjB5IIYbYqesn2OHSkamqcYQ6G7hbLW2cZEqPIswGc+wdUOa2XaJDBzxKYCkJAUHF5wS4uYwPsqVsTblkCpvVzIksexzoFkAy6NMpIGUeCLfWW/p2afKpi9zWJPzqSzj9tm+WG/HHb15rhJhKaqcyvepbVDPrDWZ1yUs7jXISwInt2uZqGQ8+INnNr/WQiTEUsKU4DE1nCwl0sjPmfxN9Gkn3pkuxFBHxQyCi52riX/wmpMrUbQH08Tu1g4PsBQ6sWVMeKo/6lwe5fWuZcuk0lYXIkvBpi5to4Pn8rR9Xoo1yxxW8Izyt424eJdVRJwh4Z6/8AFmHd8g7XJBt0k5jZ8AyPMvDby2n/KeIRmZSm3pfg6iaq4Ity1AufIjy5Ytz0+O5EsylvsqHe9PDIXhpUSRlKEVPA=
  - secure: ySRNXmHhHR8f6mVGBrvLlztmO2EARdXzG4ickLeMIelX+4sG1pJBR/roj1fRNpiXqnG7vSjwUzt4ggmUDG48YdSeCrUZwy5OUso7ZPOaq7QspKwA+4HEajHEN3SQxBsleZF5muwN0aXjADMMRIGjr2aXyuD2Y6LpkZZ26ovNpsKStAEFcu2vjjIjyMLObnggpxvEi3Oy46u6Qj7lOzbQGY+lwOerSZkAjmaYdfzQi0I0lagGPtS5l+1vKTaW5p0D+6IfzVGN1qPWSMr2VDfCrHeKjrVH8a5HMk+zxwIt3/pl7eozvxmm3nyIW9qh5ytrG89u0JAQgRjQAyB8yJ+SIQX6oJbI/Dfmr2OtPM5MZweOxwCGyW8ymmTtD5Jsz0a2XiK5l998zzpHz3qgw+sjFUMsh3tnR8Dj5FNAF3AHpitF2q1vPgca5L1pEYaZ4ztBod1PxKPOkHWSbff12pHO41c3JSfpNMhe0VlzcXrQlKQQgs5EOjVVyulpiKG7ph7OdEQn9RuXkk/sIi6oL/wf/SVhTX11F/z0BJGzKrAC3s7QApwnXgVRyGQqvan4FSySuvvpakU6i1a2sKLoCTzIUcDbJb3F/btpeUPZYG2gAe3TCrbKmvubkCAsVXrvqyGyzrFJU0/ECc7vF1k8t7EOwnDnrC+Hm9bBihlr54DpIvE=
  - secure: sxLnjeiugVw1n2LlAROiXYYKTD5uFa+/AakrMLYeinBoS/hZPj4m6zzLz0hPHG6LJVDiUOAA7Rfi4nusz8oWTSNfrlYXAihWQjwUXIT1tqTJdVu+T33B4gdBN7rrSAMXIXG65f6XkO0KFiZcJvqeYmTB9/o9tngVto0YhR2/Slk+PliHGYjvs60PEd3WhuidaGRWTDq9oCt/zPdQb/uIhKDG/1s81eziMKh25VqD+28kJph/Ygrxn8phPZouj3dmyjoknzgFHanBR9ZD2XauYFIiD2IjZsd0qnfYKaNuA7nSzkSuZxpYfGROLScX9/2bSdP3O+KpTrx+n6ErT/epqyFdjJRGhq1CX30SY49xevYxPjFwENlSQgVGmdfSFLmgXnnsIAG/kpg0EYDbwxg3aj6dJ7xj5LhDHZALzFctxp2Z9GLxxTgAdAboBg2IfHiCcfORSRsJgkcHyD9rXGlnaTkW47Db9S3F/WsyW0NTDq5VEJ5ipWgbKbIlUXd69ZcxbRQbLQ4VqvAtboRkFNRY4e5vUlGxgMBxzXO203UpUaYnXiPlMwdDmHInGD4SZMeqFuJ01HfNVTxoZVfHnBnOaLpdVAw9663Pp8h7lLPLDMTdx15bORwBMgM3CTT/0owqSgHpZWHxBD++plO3t55q69M59bacVCw09tIcK+/c0Ag=
  - secure: ZOBGgVv8sIJ7GSg3PfGoQ65+n3SpVT3L0gFdBZD/KShQmIiqOwkw/Eckj2MnlJcGODhogPPTkjfINQOdpxwF8/Cn+TVb0vZM3YHTThYB4nMKxKO/3xmPtCMjCeVrxHTnVJVhlX3YnQkHXwNHtDIu0JVEwyPzyHTo6nEp4gxvFQGnUmsIM/OrzrEal5Z4cT7l6wcmttk+8dAACrharjuLuoQ2mPd7IpWYh26NFDhJQGTC5IsK2d9UmMEF1PH7MMCLQnAqldP2b4OEq3ejcEkfRLtJJLqswdFgKL7Z4bTUJz1GvLK3Da39B69RRprvjJ1yql47gyBeLtr767kWybaN1eugCr4wT7LlGrXnGN1+h6QcrlnKVNa+7RJMSYxNSb60fbMM5gNxHIUNTNnVcaHVC3DOoJsYNQeFq0bfs4OpRpKyjqCFCzWabuPgXlotr+n+9Tt+Ij0Kt563hGD14u5mHM9pQM9cl5tMy9QmGazi9p5ugM84xrTRVqmYZG55VKw1QTovam9oZUmZOLYQfdASai5sk1JLQ9yDA0j1tN+SxUGeB+0F9rSjrF1VWJZETB7ix2gTc0s5nG3ti+FnF7fqC/phn2cd8t2PT1/HQCryhBZvdNUz1EYxU5bI+w8RG7HaNeTgj5/VR69Q/xqBacTbEvE0pty5UICkyxrYVaBxxqM=
